---
created: '2026-01-06'
---


磁头臂如何取数据？不是按照顺序取的，走一趟，电梯算法，把内容拿到内存来进行排序，分区不分区无所谓![[Pasted image 20250921141521.png]]
- 一个块组：description;Inode位图；块位图；inode节点（结构体数组）；存储有效内容的数据块；。一个文件几乎所有信息都存在inode中![[Pasted image 20250921142252.png]]
- Inode 一个结构体。state 函数；亚数据信息；无关（隐藏的内容）；一个数据块指针组（15）。12（指向块的小格子）+3（1/2/3级间接块指针）![[Pasted image 20250921142235.png]]
- 实际生产环境中4k
- 32位 1级渐进块指针 256个指针![[Pasted image 20250921142520.png]]
- 不怕大文件！不考虑空间。
- 很多小文件，Inode耗尽，数据块用得少。i位图一一对应 inode.用01表示inode某一个点用否.统计磁盘使用量：数01的个数
- 位图的操作! 
- 没有文件名。文件名在目录文件中。一条目录项(记录)包含inode +filename;

- `ln bigfile bigfile_link` 用Ln给一个文件做硬链接。在当前目录下的目录文件中多写了一行。另外一个名字关联当前Inode信息。（两个指针指向同一空间）
-  `ln -s`符号链接（非软链接！）像windows下的快捷方式。符号链接文件不占磁盘块大小。size是链接的文件名。硬链接是普通文件，两个指针指向同一块，而![[Pasted image 20250921144707.png]]
- 最前面的l表示符号链接文件，不是硬链接
- `man link`函数 封装命令 ln;`unlink` 系统调用：移植性不好
- unlink从磁盘上删除一个文件，最终有没有被删掉？不清楚，使用rm的前提，硬链接数为0，没有其他进程引用它。
- unlink方便产生匿名文件，tmpnam,tmpfile其他方法；open之后再 unlink 磁盘上删除 磁盘上存在的时间 一闪而过 直到 close 删掉
