
```c username.c

int main(int argc,char **argv)
{
	struct passwd *pwdline;
	if(argc < 2)
	{
		fprintf(stderr,"");
		exit(1);
	}
	pwdline=getpwuid(atoi(argv[1]));
	puts(pwdline->pwname);
	exit(0);
}


```


```c  checkpath.c
int main(int argc,char **argv)
{
	char *input_pass;
	struct spwd *shadowline;
	char *crypted_pass;
	if(argc<2)
	{
		fprintf(stderr,"USage...\n");
		exit(1);
	}
//输入口令 去掉终端回显

	input_pass=getpass("Password: ");
	
	shadowline=getspname(argv[1]);
	crypted_pass=crypt(input_pass,shadowline->sp_pwdp);
	
	if(strcmp(shadowline->sp_pwdp,crypted_pass)==0){
	
		puts("ok!");
	}
	else
		puts("fail")

	exit(0);
}
```

查找手册 在makefile文件中加入选项`LDFLAGS+==lctypt`.要用根用户 权限问题


time_t stamp;
time()的使用
	time(&stamp )
	stamp=time(NULL)
struct_tm
 夏令时调整字段 tm_isdst daylight saving time 
 mktime参数没有const修饰 会调整时间